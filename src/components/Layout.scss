.layout-menubar {
  position: fixed;
  z-index: 10000; //to be on top of everything else
  top: 0;
  width: 100%;
  // Dark glass effect with semi-transparent background
  background-color: rgba(255, 255, 255, 0.2);
  // Backdrop filter blur for glass effect with Safari support
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  backdrop-filter: blur(12px) saturate(180%);
  // Fallback for browsers that don't support backdrop-filter (CSS @supports)
  @supports not (backdrop-filter: blur(12px)) {
    background-color: rgba(
      red($primary-2),
      green($primary-2),
      blue($primary-2),
      0.95
    );
  }
  border: none;
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.4s ease;

  &.scrolled {
    box-shadow: $shadow-lg;
    background-color: rgba(
      red($primary-2),
      green($primary-2),
      blue($primary-2),
      0.85
    );
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    backdrop-filter: blur(16px) saturate(180%);
  }
}

// JavaScript polyfill fallback for older Safari versions
body.no-backdrop-filter .layout-menubar {
  background-color: rgba(
    red($primary-2),
    green($primary-2),
    blue($primary-2),
    0.92
  );
  // Remove backdrop-filter when not supported
  -webkit-backdrop-filter: none;
  backdrop-filter: none;

  &.scrolled {
    background-color: rgba(
      red($primary-2),
      green($primary-2),
      blue($primary-2),
      0.95
    );
  }
}

.expat-logo {
  filter: brightness(80%);
}

.wrapper {
  width: 100%;
  min-height: 100vh;
  height: 100%;
  position: relative;
  overflow: hidden;

  // Multi-gradient background with darker tones - applied to whole app
  &::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    background: 
      // Base dark gradient foundation - very dark purple/blue (darker for better readability)
      linear-gradient(
        135deg,
        #05030a 0%,
        #080510 15%,
        #0d0818 30%,
        #150a24 50%,
        #1a0f2e 65%,
        #150a24 80%,
        #0d0818 90%,
        #080510 100%
      ),
      // Dark purple radial gradient (top-right corner) - deeper purple (darker)
      radial-gradient(
          ellipse 85% 65% at 90% 10%,
          rgba(50, 20, 90, 0.85) 0%,
          rgba(40, 18, 70, 0.5) 35%,
          rgba(30, 12, 55, 0.25) 60%,
          transparent 80%
        ),
      // Dark magenta radial gradient (middle-right) - deeper magenta (darker)
      radial-gradient(
          ellipse 75% 55% at 80% 50%,
          rgba(90, 8, 50, 0.7) 0%,
          rgba(70, 6, 40, 0.4) 45%,
          rgba(50, 5, 30, 0.2) 70%,
          transparent 85%
        ),
      // Darker cyan/blue radial gradient (bottom-left) - creates triangular feel (darker)
      radial-gradient(
          ellipse 65% 85% at 10% 90%,
          rgba(8, 45, 75, 0.6) 0%,
          rgba(6, 35, 60, 0.35) 40%,
          rgba(4, 25, 45, 0.15) 65%,
          transparent 85%
        ),
      // Additional dark purple overlay for blending (center-left) (darker)
      radial-gradient(
          ellipse 50% 60% at 25% 40%,
          rgba(35, 15, 65, 0.3) 0%,
          transparent 70%
        );
    background-size:
      100% 100%,
      100% 100%,
      100% 100%,
      100% 100%,
      100% 100%;
    background-attachment: fixed;
  }

  // Additional overlay for soft polygonal shapes and smooth transitions
  &::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    background:
      // Soft blue triangular effect from bottom-left (darker)
      linear-gradient(
        140deg,
        transparent 0%,
        transparent 35%,
        rgba(6, 35, 60, 0.15) 55%,
        rgba(8, 45, 75, 0.2) 75%,
        rgba(10, 50, 85, 0.25) 100%
      ),
      // Dark magenta accent from top-right (darker)
      linear-gradient(
          220deg,
          transparent 0%,
          transparent 40%,
          rgba(70, 8, 40, 0.1) 60%,
          rgba(85, 12, 50, 0.18) 80%,
          rgba(90, 14, 55, 0.22) 100%
        ),
      // Dark purple overlay for depth (center-right) (darker)
      radial-gradient(
          ellipse 55% 45% at 65% 25%,
          rgba(45, 22, 80, 0.15) 0%,
          transparent 65%
        ),
      // Additional subtle dark blue accent (bottom-right) (darker)
      radial-gradient(
          ellipse 40% 50% at 70% 85%,
          rgba(12, 45, 75, 0.1) 0%,
          transparent 60%
        );
    background-size:
      100% 100%,
      100% 100%,
      100% 100%,
      100% 100%;
    background-attachment: fixed;
    opacity: 0.85;
  }
}

.main {
  height: 100%;
  min-height: 100vh;
  padding-top: 45px;
}

@media (max-width: 768px) {
  .hidden.md\\:flex {
    display: none !important;
  }
}

@media (min-width: 769px) {
  .hidden.md\\:flex {
    display: flex !important;
  }
}
